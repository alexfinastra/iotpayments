<div class="container">
  <div class="py-5 text-center">
    <img class="d-block mx-auto mb-4" src="/images/rolex-logo.svg" alt="" width="128" height="128">
    <h2>Checkout form</h2>
  </div>

  <div class="row">
    <div class="col-md-4 order-md-2 mb-4">
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span class="text-muted">Your cart</span>
        <span class="badge badge-secondary badge-pill">1</span>
      </h4>
      <ul class="list-group mb-3">
        <li class="list-group-item d-flex justify-content-between lh-condensed">
          <div>
            <table>
              <tr>
                <td class="col-md-2">
                  <img class="d-block mx-auto mb-6" src="/images/rolex-sea-dweller.webp" alt="" width="72" height="72 ">
                </td>
                <td>
                  <h6 class="col-md-3">Rolex Sea Dweller</h6>
                </td>
              </tr>
            </table>          
          </div>
          <span class="text-muted">$17,147</span>
        </li>       
        <li class="list-group-item d-flex justify-content-between">
          <span>Total (USD)</span>
          <strong>$17,147</strong>
        </li>
      </ul>
      <div class="text-white bg-dark border border-primary ">
        <form action="/contracts/ecommerce"  method="post">        
          <h4 class="mb-3 ml-2 mt-2">Payment Options</h4>         
          <div class="d-block my-3 ml-2">
            <div class="custom-control custom-radio">
              <input id="credit" name="paymentMethod" type="radio" class="custom-control-input"  required="">
              <label class="custom-control-label" for="credit">Credit card</label>
            </div>
            <div class="custom-control custom-radio">
              <input id="paypal" name="paymentMethod" type="radio" class="custom-control-input" required="">
              <label class="custom-control-label" for="paypal">PayPal</label>
            </div>
            <div class="custom-control custom-radio">
              <input id="account" name="paymentMethod" type="radio" class="custom-control-input" checked="" required="">
              <label class="custom-control-label font-weight-bold" for="account">Bank Account</label>
            </div>
          </div>   
          <div class= "container"> 
            <div class="row">
              <div class="col-md-12 mb-6">
                <label for="cc-name">Finastra Central ID </label>
                <input type="tel" class="form-control cc-number text-center" maxlength="8" pattern="\d*" id="finastra-id" placeholder="XXXX-XXXX" required="" name="ref">
                <small class="text-white">Enter your 8 digit Finastra Central ID</small>
                <div class="invalid-feedback">Finastra ID is required</div>
              </div>
              <input class="ml-3 mr-3 mb-4 mt-4 btn btn-primary btn-lg btn-block" type="submit" value="Purchase"></input>
            </div> 
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-8 order-md-1">
      <h4 class="mb-3">Billing address</h4>
      <form class="needs-validation" novalidate="" >
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="firstName">First name</label>
            <input type="text" class="form-control" id="firstName" placeholder="John" value="" required="">
            <div class="invalid-feedback">
              Valid first name is required.
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <label for="lastName">Last name</label>
            <input type="text" class="form-control" id="lastName" placeholder="Lewis" value="" required="">
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="username">Username</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">@</span>
            </div>
            <input type="text" class="form-control" id="username" placeholder="JohnLewis" required="">
            <div class="invalid-feedback" style="width: 100%;">
              Your username is required.
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="email">Email <span class="text-muted">(Optional)</span></label>
          <input type="email" class="form-control" id="email" placeholder="JohnLewis@gmail.com">
          <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
          </div>
        </div>
        <div class="mb-3">
          <label for="address">Address</label>
          <input type="text" class="form-control" id="address" placeholder="1234 Main St" required="">
          <div class="invalid-feedback">
            Please enter your shipping address.
          </div>
        </div>
        <div class="mb-3">
          <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
          <input type="text" class="form-control" id="address2" placeholder="Apartment #13">
        </div>
        <div class="row">
          <div class="col-md-5 mb-3">
            <label for="country">Country</label>
            <select class="custom-select d-block w-100" id="country" required="">
              <option value="">Choose...</option>
              <option>United States</option>
            </select>
            <div class="invalid-feedback">
              Please select a valid country.
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <label for="state">State</label>
            <select class="custom-select d-block w-100" id="state" required="">
              <option value="">Choose...</option>
              <option>California</option>
            </select>
            <div class="invalid-feedback">
              Please provide a valid state.
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <label for="zip">Zip</label>
            <input type="text" class="form-control" id="zip" placeholder="90001" required="">
            <div class="invalid-feedback">
              Zip code required.
            </div>
          </div>
        </div>
      </form>     
    </div>
  </div>

  <footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1">Â© 2018 Rolex Ltd</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="#">Privacy</a></li>
      <li class="list-inline-item"><a href="#">Terms</a></li>
      <li class="list-inline-item"><a href="#">Support</a></li>
    </ul>
  </footer>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster >
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.payment/1.0.1/jquery.payment.min.js
"></script-->
<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (function() {
    'use strict';

    window.addEventListener('load', function() {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName('needs-validation');
      //$('#credit .cc-number').formatCardNumber();
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
        //  console.log ("in submit");
        //  getFinastraID();
         // xhttp.open("GET", "http://www.google.com", true);
        //  xhttp.send();
         // alert("Purchase request was sent to Bank");

/*              if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated'); */
        }, false);
      });
    }, false);
  })();

</script>
